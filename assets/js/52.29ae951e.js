(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{457:function(t,a,s){"use strict";s.r(a);var n=s(44),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"반환-함수"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#반환-함수"}},[t._v("#")]),t._v(" 반환 함수")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("function makeCounter() {                    LexicalEnvironment                  global Lexical Environment\n    let count = 0;              ---         of makeCounter() call   \n    return function() {             |                                           makeCounter: function\n        return count++;             |          count: 0         --outer--\x3e      counter: undefined         --outer--\x3e   null\n    }                               |\n}                               ___\nlet counter = makeCounter();\n")])])]),s("p",[t._v("makeCounter()를 "),s("code",[t._v("호출")]),t._v("할 때마다, ("),s("code",[t._v("익명함수")]),t._v("에 대한) "),s("code",[t._v("새로운 렉시컬 환경 객체")]),t._v("가 만들어 진다.")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("중첩 함수")]),t._v("가 생성이 되고 "),s("code",[t._v("실행은 되지 않은")]),t._v(" 상태")])]),t._v(" "),s("h2",{attrs:{id:"js-모든-함수는-클로저"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js-모든-함수는-클로저"}},[t._v("#")]),t._v(" JS 모든 함수는 클로저")]),t._v(" "),s("ul",[s("li",[t._v("클로저란 내부함수가 외부함수의 지역변수에 접근 할 수 있고,\n외부함수는 외부함수의 지역변수를 사용하는 내부함수가 소멸될 때까지 소멸되지 않는 특성을 의미한다")])]),t._v(" "),s("p",[t._v("호출 장소와 상관없이 "),s("code",[t._v("모든 함수")]),t._v("는 함수가 "),s("code",[t._v("생성된 곳")]),t._v("의 "),s("code",[t._v("렉시컬 환경을 기억")]),t._v("한다.")]),t._v(" "),s("ul",[s("li",[t._v("함수는 "),s("code",[t._v("[[Environment]]")]),t._v(" 라 불리는 "),s("code",[t._v("숨김 프로퍼티")]),t._v("를 갖는다\n"),s("ul",[s("li",[t._v("함수가 만들어진 곳의 "),s("code",[t._v("렉시컬 환경에 대한 참조")]),t._v("가 저장된다.")]),t._v(" "),s("li",[t._v("생성될 때, "),s("code",[t._v("딱 한번")]),t._v(" 그 값이 세팅된다.")])])])]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("function makeCounter() {                    \n    let count = 0;                        ---            \n    return function() {  [[Environment]] --\x3e |                                makeCounter: function\n        return count++;                      |   count: 0     --outer--\x3e      counter: undefined       --outer--\x3e   null\n    }                                        |\n}                                         ---\nlet counter = makeCounter();\n")])])]),s("p",[s("code",[t._v("counter()")]),t._v("(makeCounter() 의 반환함수인 익명함수) 를 호출할 때마다, 새로운 렉시컬 환경이 만들어진다.")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("새로운 렉시컬 환경이지만, counter.[[Environment]]에 저장된 렉시컬 환경을 외부 렉시컬 환경으로서 참조")]),t._v(" "),s("ul",[s("li",[t._v("counter()의 렉시컬 환경은 매번 만들어 지지만, makeCounter() 렉시컬은 별개로 새로 만들어 지지 않는 상태이다.")]),t._v(" "),s("li",[t._v("counter()에서 외부 렉시컬 환경의 변수를 참조할 때에는 딱 한번 만들어지는 counter.[[Environment]] 를 참조한다.")])]),t._v(" "),s("blockquote",[s("p",[t._v("싱글톤 같은 개념인가?")])])]),t._v(" "),s("li",[s("p",[t._v("변수값 갱신은 변수가 저장된 렉시컬 환경에서 이뤄진다.")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("counter()")]),t._v(" 을 여러번 호출하면 count 변수가 2, 3 .. 으로 증가하는 이유")])])])]),t._v(" "),s("h2",{attrs:{id:"클로저"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#클로저"}},[t._v("#")]),t._v(" 클로저")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://hyunseob.github.io/2016/08/30/javascript-closure/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ref"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("외부변수를 기억하고 이 외부 변수에 접근할 수 있는 함수")]),t._v(" "),s("h3",{attrs:{id:"클로저는-언제-사용할까"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#클로저는-언제-사용할까"}},[t._v("#")]),t._v(" 클로저는 언제 사용할까?")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("자바스크립트 라이브러리나 모듈에서 private 으로 나의 변수를 보호하고 싶을 때. 즉, 지역 변수 보호")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" _name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello, '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" _name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" hello1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'승민'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" hello2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'현섭'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" hello3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'유근'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Hello, 승민'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Hello, 현섭'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Hello, 유근'")]),t._v("\n")])])]),s("ul",[s("li",[t._v("사용자의 접근을 제한")]),t._v(" "),s("li",[t._v("변수의 조작을 불가능하게 하기 위함.")])]),t._v(" "),s("p",[t._v("모듈 에서 한번 더 다룰 예정이다. TODO")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("static 변수를 이용")]),t._v("하고 싶을 때")]),t._v(" "),s("ul",[s("li",[t._v("다른 라이브러리들과 함께 사용되는 경우 서로간 충돌을 없앰")]),t._v(" "),s("li",[t._v("전역변수를 사용했다가 다른 라이브러리 가져왔는데 그 라이브러리에서 덮어씌워버린다면 이유도 모르고 멀쩡하던 웹 페이지에서 에러가 발생하게 될 것이다.")])])])]),t._v(" "),s("h2",{attrs:{id:"가비지-컬렉션"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#가비지-컬렉션"}},[t._v("#")]),t._v(" 가비지 컬렉션")]),t._v(" "),s("p",[t._v("일반적으로, 함수 "),s("code",[t._v("호출이 끝나면")]),t._v(" "),s("code",[t._v("함수의 렉시컬 환경이 메모리에서 제거")]),t._v(" 된다.")]),t._v(" "),s("h3",{attrs:{id:"메모리에-유지되는-경우"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#메모리에-유지되는-경우"}},[t._v("#")]),t._v(" 메모리에 유지되는 경우 "),s("a",{attrs:{href:"https://eyabc.github.io/Doc/dev/core-javascript/JS%20%EB%A9%94%EB%AA%A8%EB%A6%AC%20%EB%88%84%EC%88%98.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("🔗"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("도달 가능한 상태일 때")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("중첩함수")]),t._v("에서 "),s("code",[t._v("[[Environment]]")]),t._v(" 프로퍼티에 "),s("code",[t._v("외부 함수 렉시컬 환경에 대한 정보가 저장")]),t._v("되어. 도달 가능한 상태가 된다.")]),t._v(" "),s("li",[t._v("해제 :"),s("code",[t._v("g = null;")])])]),t._v(" "),s("h2",{attrs:{id:"최적화-프로세스"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#최적화-프로세스"}},[t._v("#")]),t._v(" 최적화 프로세스")]),t._v(" "),s("p",[t._v("자바스크립트 엔진는 외부 변수가 사용되지 않는다고 판단되면 메모리에서 제거한다.")]),t._v(" "),s("ul",[s("li",[t._v("V8, 디버깅시 클로저의 변수를 사용할 수 없는 부작용이 있다.")])]),t._v(" "),s("h2",{attrs:{id:"code"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#code"}},[t._v("#")]),t._v(" code")]),t._v(" "),s("p",[t._v("함수의 콜백의 이름이 있는 함수를 쓴다.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("function inBetween(a, b) {\n   return function(x) {\n     return x  a && x <= b;\n   };\n }\nlet arr = [1, 2, 3, 4, 5, 6, 7];\nalert( arr.filter(inBetween(3, 6)) ); // 3,4,5,6\n")])])]),s("p",[t._v("필드를 기준으로 정렬하기")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" users "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" surname"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Johnson"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Pete"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" surname"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Peterson"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Ann"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" surname"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hathaway"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("byField")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("field")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("field"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("field"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nusers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("byField")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nusers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("byField")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);