<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Iteration 프로토콜 | 삽질하는 개발자</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="/Doc/assets/css/0.styles.fb307233.css" as="style"><link rel="preload" href="/Doc/assets/js/app.c3926cbf.js" as="script"><link rel="preload" href="/Doc/assets/js/2.6b1c0d26.js" as="script"><link rel="preload" href="/Doc/assets/js/32.61f8aa1b.js" as="script"><link rel="prefetch" href="/Doc/assets/js/10.9efc2b62.js"><link rel="prefetch" href="/Doc/assets/js/100.71406c81.js"><link rel="prefetch" href="/Doc/assets/js/101.1a7dd917.js"><link rel="prefetch" href="/Doc/assets/js/102.17136d1d.js"><link rel="prefetch" href="/Doc/assets/js/103.707a2418.js"><link rel="prefetch" href="/Doc/assets/js/104.d9375a0f.js"><link rel="prefetch" href="/Doc/assets/js/105.2ec98801.js"><link rel="prefetch" href="/Doc/assets/js/106.5d328afb.js"><link rel="prefetch" href="/Doc/assets/js/107.dada4603.js"><link rel="prefetch" href="/Doc/assets/js/108.032acaba.js"><link rel="prefetch" href="/Doc/assets/js/109.ad9fad9a.js"><link rel="prefetch" href="/Doc/assets/js/11.2d4f3a8a.js"><link rel="prefetch" href="/Doc/assets/js/110.56f8e778.js"><link rel="prefetch" href="/Doc/assets/js/111.a33e60e1.js"><link rel="prefetch" href="/Doc/assets/js/112.4681fbdb.js"><link rel="prefetch" href="/Doc/assets/js/113.731086de.js"><link rel="prefetch" href="/Doc/assets/js/114.48f23103.js"><link rel="prefetch" href="/Doc/assets/js/115.f32a26f2.js"><link rel="prefetch" href="/Doc/assets/js/116.1fa274e1.js"><link rel="prefetch" href="/Doc/assets/js/117.4e31aa7c.js"><link rel="prefetch" href="/Doc/assets/js/118.0e7f2870.js"><link rel="prefetch" href="/Doc/assets/js/119.53eee6a0.js"><link rel="prefetch" href="/Doc/assets/js/12.e395bc9a.js"><link rel="prefetch" href="/Doc/assets/js/120.a435b1fa.js"><link rel="prefetch" href="/Doc/assets/js/121.358845f1.js"><link rel="prefetch" href="/Doc/assets/js/122.aa29a809.js"><link rel="prefetch" href="/Doc/assets/js/123.06049961.js"><link rel="prefetch" href="/Doc/assets/js/124.67216592.js"><link rel="prefetch" href="/Doc/assets/js/125.0f0d3bb3.js"><link rel="prefetch" href="/Doc/assets/js/126.26ad72e4.js"><link rel="prefetch" href="/Doc/assets/js/127.c4c60343.js"><link rel="prefetch" href="/Doc/assets/js/128.e75c3789.js"><link rel="prefetch" href="/Doc/assets/js/129.6faae567.js"><link rel="prefetch" href="/Doc/assets/js/13.14ae20a4.js"><link rel="prefetch" href="/Doc/assets/js/130.423e72ae.js"><link rel="prefetch" href="/Doc/assets/js/131.93e1e811.js"><link rel="prefetch" href="/Doc/assets/js/132.6dcbc527.js"><link rel="prefetch" href="/Doc/assets/js/133.abab6b9b.js"><link rel="prefetch" href="/Doc/assets/js/134.60096c2f.js"><link rel="prefetch" href="/Doc/assets/js/135.67ca5619.js"><link rel="prefetch" href="/Doc/assets/js/136.1ac699c5.js"><link rel="prefetch" href="/Doc/assets/js/137.ed83f9c5.js"><link rel="prefetch" href="/Doc/assets/js/138.8cd6f07d.js"><link rel="prefetch" href="/Doc/assets/js/139.1202bc81.js"><link rel="prefetch" href="/Doc/assets/js/14.d9e60de3.js"><link rel="prefetch" href="/Doc/assets/js/140.29559e64.js"><link rel="prefetch" href="/Doc/assets/js/141.3c2d261c.js"><link rel="prefetch" href="/Doc/assets/js/142.04bffb28.js"><link rel="prefetch" href="/Doc/assets/js/143.b8e523db.js"><link rel="prefetch" href="/Doc/assets/js/144.56533ce4.js"><link rel="prefetch" href="/Doc/assets/js/145.7ee88bd9.js"><link rel="prefetch" href="/Doc/assets/js/146.300ae247.js"><link rel="prefetch" href="/Doc/assets/js/147.9d5a9ddc.js"><link rel="prefetch" href="/Doc/assets/js/148.f8b70e1d.js"><link rel="prefetch" href="/Doc/assets/js/149.adcc2150.js"><link rel="prefetch" href="/Doc/assets/js/15.d1a94efb.js"><link rel="prefetch" href="/Doc/assets/js/150.41df8429.js"><link rel="prefetch" href="/Doc/assets/js/151.5b4a294a.js"><link rel="prefetch" href="/Doc/assets/js/152.7d657e76.js"><link rel="prefetch" href="/Doc/assets/js/153.1aed5b28.js"><link rel="prefetch" href="/Doc/assets/js/154.7831ecf4.js"><link rel="prefetch" href="/Doc/assets/js/155.16b54f98.js"><link rel="prefetch" href="/Doc/assets/js/156.075d5603.js"><link rel="prefetch" href="/Doc/assets/js/157.2db2668e.js"><link rel="prefetch" href="/Doc/assets/js/158.e15dc6ee.js"><link rel="prefetch" href="/Doc/assets/js/159.b2ed61e2.js"><link rel="prefetch" href="/Doc/assets/js/16.f88ac0f2.js"><link rel="prefetch" href="/Doc/assets/js/160.858cc0f8.js"><link rel="prefetch" href="/Doc/assets/js/161.6bf1f3d8.js"><link rel="prefetch" href="/Doc/assets/js/162.b21c13a8.js"><link rel="prefetch" href="/Doc/assets/js/163.17fcd74b.js"><link rel="prefetch" href="/Doc/assets/js/164.1d9ad2ea.js"><link rel="prefetch" href="/Doc/assets/js/165.731d02ae.js"><link rel="prefetch" href="/Doc/assets/js/166.420d1e02.js"><link rel="prefetch" href="/Doc/assets/js/167.92cd7f1d.js"><link rel="prefetch" href="/Doc/assets/js/168.de420622.js"><link rel="prefetch" href="/Doc/assets/js/169.4a18c386.js"><link rel="prefetch" href="/Doc/assets/js/17.fcd83900.js"><link rel="prefetch" href="/Doc/assets/js/170.43a9e82d.js"><link rel="prefetch" href="/Doc/assets/js/171.93680c5c.js"><link rel="prefetch" href="/Doc/assets/js/172.69ced473.js"><link rel="prefetch" href="/Doc/assets/js/173.28c6c4a3.js"><link rel="prefetch" href="/Doc/assets/js/174.f958aeb6.js"><link rel="prefetch" href="/Doc/assets/js/175.ec91017e.js"><link rel="prefetch" href="/Doc/assets/js/18.0067c53b.js"><link rel="prefetch" href="/Doc/assets/js/19.2b974ee9.js"><link rel="prefetch" href="/Doc/assets/js/20.a9f94f01.js"><link rel="prefetch" href="/Doc/assets/js/21.64ba0186.js"><link rel="prefetch" href="/Doc/assets/js/22.df2a3350.js"><link rel="prefetch" href="/Doc/assets/js/23.887b930b.js"><link rel="prefetch" href="/Doc/assets/js/24.86d88d1d.js"><link rel="prefetch" href="/Doc/assets/js/25.08636ffd.js"><link rel="prefetch" href="/Doc/assets/js/26.9c3f1b39.js"><link rel="prefetch" href="/Doc/assets/js/27.e9a1cc1c.js"><link rel="prefetch" href="/Doc/assets/js/28.75c08dc8.js"><link rel="prefetch" href="/Doc/assets/js/29.d3f8fbe9.js"><link rel="prefetch" href="/Doc/assets/js/3.2cff1b04.js"><link rel="prefetch" href="/Doc/assets/js/30.3ad403a3.js"><link rel="prefetch" href="/Doc/assets/js/31.7613a1fe.js"><link rel="prefetch" href="/Doc/assets/js/33.a3e7ae41.js"><link rel="prefetch" href="/Doc/assets/js/34.b7c57162.js"><link rel="prefetch" href="/Doc/assets/js/35.165bd9c8.js"><link rel="prefetch" href="/Doc/assets/js/36.0875e852.js"><link rel="prefetch" href="/Doc/assets/js/37.1c2f0459.js"><link rel="prefetch" href="/Doc/assets/js/38.1eb8b349.js"><link rel="prefetch" href="/Doc/assets/js/39.26a027b5.js"><link rel="prefetch" href="/Doc/assets/js/4.3e519c13.js"><link rel="prefetch" href="/Doc/assets/js/40.90c7560e.js"><link rel="prefetch" href="/Doc/assets/js/41.bd331840.js"><link rel="prefetch" href="/Doc/assets/js/42.fab4f84b.js"><link rel="prefetch" href="/Doc/assets/js/43.00e3a1e8.js"><link rel="prefetch" href="/Doc/assets/js/44.cf50bb5c.js"><link rel="prefetch" href="/Doc/assets/js/45.d94c4d62.js"><link rel="prefetch" href="/Doc/assets/js/46.ca532790.js"><link rel="prefetch" href="/Doc/assets/js/47.3e2db8d6.js"><link rel="prefetch" href="/Doc/assets/js/48.ab9b8f34.js"><link rel="prefetch" href="/Doc/assets/js/49.382ad4bf.js"><link rel="prefetch" href="/Doc/assets/js/5.e87eea0a.js"><link rel="prefetch" href="/Doc/assets/js/50.c2953a9b.js"><link rel="prefetch" href="/Doc/assets/js/51.e9939fb2.js"><link rel="prefetch" href="/Doc/assets/js/52.29ae951e.js"><link rel="prefetch" href="/Doc/assets/js/53.d3cef9ea.js"><link rel="prefetch" href="/Doc/assets/js/54.61a5ab1c.js"><link rel="prefetch" href="/Doc/assets/js/55.81159ca2.js"><link rel="prefetch" href="/Doc/assets/js/56.1245ed39.js"><link rel="prefetch" href="/Doc/assets/js/57.efed8315.js"><link rel="prefetch" href="/Doc/assets/js/58.cc3439fb.js"><link rel="prefetch" href="/Doc/assets/js/59.ad615105.js"><link rel="prefetch" href="/Doc/assets/js/6.66a60269.js"><link rel="prefetch" href="/Doc/assets/js/60.136190b8.js"><link rel="prefetch" href="/Doc/assets/js/61.642a7c8e.js"><link rel="prefetch" href="/Doc/assets/js/62.3325f5b9.js"><link rel="prefetch" href="/Doc/assets/js/63.99b53ce3.js"><link rel="prefetch" href="/Doc/assets/js/64.b1c4c81f.js"><link rel="prefetch" href="/Doc/assets/js/65.f0194f3a.js"><link rel="prefetch" href="/Doc/assets/js/66.8f733518.js"><link rel="prefetch" href="/Doc/assets/js/67.bc572738.js"><link rel="prefetch" href="/Doc/assets/js/68.0f334cf3.js"><link rel="prefetch" href="/Doc/assets/js/69.e93caf30.js"><link rel="prefetch" href="/Doc/assets/js/7.56557edf.js"><link rel="prefetch" href="/Doc/assets/js/70.739b05fa.js"><link rel="prefetch" href="/Doc/assets/js/71.59ee07bf.js"><link rel="prefetch" href="/Doc/assets/js/72.4f08f9ca.js"><link rel="prefetch" href="/Doc/assets/js/73.ef2ca74d.js"><link rel="prefetch" href="/Doc/assets/js/74.c47f63c8.js"><link rel="prefetch" href="/Doc/assets/js/75.80589c1a.js"><link rel="prefetch" href="/Doc/assets/js/76.d5086c0f.js"><link rel="prefetch" href="/Doc/assets/js/77.f12ee6d5.js"><link rel="prefetch" href="/Doc/assets/js/78.b97d5946.js"><link rel="prefetch" href="/Doc/assets/js/79.6da6014e.js"><link rel="prefetch" href="/Doc/assets/js/8.11bac6a4.js"><link rel="prefetch" href="/Doc/assets/js/80.99204ba5.js"><link rel="prefetch" href="/Doc/assets/js/81.946b77ae.js"><link rel="prefetch" href="/Doc/assets/js/82.c6325af4.js"><link rel="prefetch" href="/Doc/assets/js/83.e9d68726.js"><link rel="prefetch" href="/Doc/assets/js/84.ede29adf.js"><link rel="prefetch" href="/Doc/assets/js/85.21c8f4ae.js"><link rel="prefetch" href="/Doc/assets/js/86.4d242545.js"><link rel="prefetch" href="/Doc/assets/js/87.da4c48ce.js"><link rel="prefetch" href="/Doc/assets/js/88.93a10f07.js"><link rel="prefetch" href="/Doc/assets/js/89.9e735ccd.js"><link rel="prefetch" href="/Doc/assets/js/9.4869567c.js"><link rel="prefetch" href="/Doc/assets/js/90.c97e4c13.js"><link rel="prefetch" href="/Doc/assets/js/91.b19a8e13.js"><link rel="prefetch" href="/Doc/assets/js/92.12a5e580.js"><link rel="prefetch" href="/Doc/assets/js/93.6e089b11.js"><link rel="prefetch" href="/Doc/assets/js/94.2d7f0523.js"><link rel="prefetch" href="/Doc/assets/js/95.77a6fda7.js"><link rel="prefetch" href="/Doc/assets/js/96.021776cc.js"><link rel="prefetch" href="/Doc/assets/js/97.7a2a5c0f.js"><link rel="prefetch" href="/Doc/assets/js/98.33a76bde.js"><link rel="prefetch" href="/Doc/assets/js/99.4611ce97.js">
    <link rel="stylesheet" href="/Doc/assets/css/0.styles.fb307233.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Doc/" class="home-link router-link-active"><!----> <span class="site-name">삽질하는 개발자</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Doc/todo.html" class="nav-link">
  Todo
</a></div><div class="nav-item"><a href="/Doc/dev.html" class="nav-link">
  Dev
</a></div><div class="nav-item"><a href="/Doc/reads.html" class="nav-link">
  Reads
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Doc/todo.html" class="nav-link">
  Todo
</a></div><div class="nav-item"><a href="/Doc/dev.html" class="nav-link">
  Dev
</a></div><div class="nav-item"><a href="/Doc/reads.html" class="nav-link">
  Reads
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>전체글</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>자바스크립트</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>자바스크립트 스타일 가이드</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>미분류</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Doc/dev/core-javascript/문법 사전.html" class="sidebar-link">0. 문법 사전</a></li><li><a href="/Doc/dev/core-javascript/자바스크립트의 역사.html" class="sidebar-link">1. 자바스크립트의 역사</a></li><li><a href="/Doc/dev/core-javascript/자바스크립트의 장점.html" class="sidebar-link">2. 자바스크립트의 장점</a></li><li><a href="/Doc/dev/core-javascript/자바스크립트의 값의 특징.html" class="sidebar-link">3. 자바스크립트의 값의 특징</a></li><li><a href="/Doc/dev/core-javascript/const, let, var.html" class="sidebar-link">4. const, let, var</a></li><li><a href="/Doc/dev/core-javascript/V8.html" class="sidebar-link">5. V8</a></li><li><a href="/Doc/dev/core-javascript/렉시컬 환경.html" class="sidebar-link">6. 렉시컬 환경</a></li><li><a href="/Doc/dev/core-javascript/반환함수.html" class="sidebar-link">7. 반환함수</a></li><li><a href="/Doc/dev/core-javascript/호이스팅.html" class="sidebar-link">8. 호이스팅</a></li><li><a href="/Doc/dev/core-javascript/스코프.html" class="sidebar-link">9. 스코프</a></li><li><a href="/Doc/dev/core-javascript/글로벌 변수를 사용하면 안되는 이유.html" class="sidebar-link">10. 글로벌 변수를 사용하면 안되는 이유</a></li><li><a href="/Doc/dev/core-javascript/JS 메모리 누수.html" class="sidebar-link">11. JS 메모리 누수</a></li><li><a href="/Doc/dev/core-javascript/엄격모드.html" class="sidebar-link">12. 엄격모드</a></li><li><a href="/Doc/dev/core-javascript/JS전역객체.html" class="sidebar-link">13. JS전역객체</a></li><li><a href="/Doc/dev/core-javascript/전역객체 window.html" class="sidebar-link">14. 전역객체 window</a></li><li><a href="/Doc/dev/core-javascript/값.html" class="sidebar-link">15. 값</a></li><li><a href="/Doc/dev/core-javascript/객체.html" class="sidebar-link">16. 객체</a></li><li><a href="/Doc/dev/core-javascript/원시타입과 참조타입.html" class="sidebar-link">17. 원시타입과 참조타입</a></li><li><a href="/Doc/dev/core-javascript/래퍼 객체.html" class="sidebar-link">18. 래퍼 객체</a></li><li><a href="/Doc/dev/core-javascript/가비지 컬렉션.html" class="sidebar-link">19. 가비지 컬렉션</a></li><li><a href="/Doc/dev/core-javascript/this.html" class="sidebar-link">20. this</a></li><li><a href="/Doc/dev/core-javascript/화살표함수.html" class="sidebar-link">21. 화살표함수</a></li><li><a href="/Doc/dev/core-javascript/함수형 프로그래밍.html" class="sidebar-link">22. 함수형 프로그래밍</a></li><li><a href="/Doc/dev/core-javascript/Symbol.html" class="sidebar-link">23. Symbol</a></li><li><a href="/Doc/dev/core-javascript/Iteration 프로토콜.html" class="active sidebar-link">24. Iteration 프로토콜</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Doc/dev/core-javascript/Iteration 프로토콜.html#loop" class="sidebar-link">Loop</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/core-javascript/Iteration 프로토콜.html#interface-in-js" class="sidebar-link">Interface In JS</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/core-javascript/Iteration 프로토콜.html#iterator-interface" class="sidebar-link">Iterator interface</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/core-javascript/Iteration 프로토콜.html#iterable-프로토콜" class="sidebar-link">Iterable 프로토콜</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/core-javascript/Iteration 프로토콜.html#사용자-반복-처리기" class="sidebar-link">사용자 반복 처리기</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/core-javascript/Iteration 프로토콜.html#내장-반복-처리기" class="sidebar-link">내장 반복 처리기</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/core-javascript/Iteration 프로토콜.html#예제" class="sidebar-link">예제</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/core-javascript/Iteration 프로토콜.html#generator-함수" class="sidebar-link">Generator 함수</a></li><li class="sidebar-sub-header"><a href="/Doc/dev/core-javascript/Iteration 프로토콜.html#reference" class="sidebar-link">Reference</a></li></ul></li><li><a href="/Doc/dev/core-javascript/클래스.html" class="sidebar-link">25. 클래스</a></li><li><a href="/Doc/dev/core-javascript/프로토타입.html" class="sidebar-link">26. 프로토타입</a></li><li><a href="/Doc/dev/core-javascript/에러 핸들링.html" class="sidebar-link">27. 에러 핸들링</a></li><li><a href="/Doc/dev/core-javascript/참고자료.html" class="sidebar-link">28. 참고자료</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>비동기 프로그래밍</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>JS 모듈</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Statements &amp; declarations</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>리액트</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>단국대 스터디</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tutorials</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>참여 프로젝트</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>네트워크</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>디자인 패턴</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="iteration-프로토콜"><a href="#iteration-프로토콜" class="header-anchor">#</a> Iteration 프로토콜</h1> <p>Iteration 프로토콜 에는 <code>iterable 프로토콜과</code> <code>iterator 프로토콜</code> 이 있다.</p> <p><img src="https://user-images.githubusercontent.com/31977543/89755996-369c4680-db1c-11ea-8af5-d6e295e1fce9.png" alt="image"></p> <h2 id="loop"><a href="#loop" class="header-anchor">#</a> Loop</h2> <p>Loop 의 의미</p> <ul><li>ES6 이전에는 단순 루프만 지원했지만, 현대 언어들처럼 풍부한 의미를 부여하도록 확장이 되었다.</li></ul> <h2 id="interface-in-js"><a href="#interface-in-js" class="header-anchor">#</a> Interface In JS</h2> <p><a href="/Doc/dev/core-javascript/interface.html">인터페이스</a>란?</p> <h2 id="iterator-interface"><a href="#iterator-interface" class="header-anchor">#</a> Iterator interface</h2> <ol><li>키: <code>next</code></li> <li>값: <code>IteratorResultObject</code> 를 반환하는 함수
<ul><li>인자가 없다.</li> <li>IteratorResultObject interface
<ul><li>키 : <code>value</code> 와 <code>done</code></li> <li><code>done</code>(boolean) : 반복 가능 여부</li> <li><code>{ done: true, value: undefined }</code> done 이 true 일때 value: undefined 가 정의됨</li></ul></li></ul></li> <li>예시<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> done<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            done<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span>
            value<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="iterable-프로토콜"><a href="#iterable-프로토콜" class="header-anchor">#</a> Iterable 프로토콜</h2> <h3 id="iterable-object"><a href="#iterable-object" class="header-anchor">#</a> Iterable Object</h3> <ul><li>반복 가능한 객체</li> <li>ES6</li> <li>Symbol.iterator 속성이 있다.
<ul><li>객체 속성 Symbol.iterator 에 특별한 형태의 함수가 들어 있다.<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
str<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">// [Function] </span>

<span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
num<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">// undefined</span>
</code></pre></div></li> <li>iterable protocol 을 만족하는 객체이다.</li></ul></li></ul> <h3 id="iterable-interface"><a href="#iterable-interface" class="header-anchor">#</a> Iterable Interface</h3> <p><a href="/Doc/dev/core-javascript/Symbol.html">Symbol</a></p> <ol><li><p>키: Symbol.iterator</p> <ul><li>오브젝트의 [Symbol.iterator]를 호출하면 이터레이터 오브젝트를 생성(?)하여 반환한다.</li></ul></li> <li><p>값: 함수</p> <ul><li>인자 없음</li> <li><code>Iterator Object</code> 를 반환</li></ul></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> done<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>목표: <code>for(let num of range) ... num=1,2,3,4,5</code> 동작</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  to<span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol><li><code>for..of</code> 가 시작되자마자 <code>for..of</code> 는 <code>Symbol.iterator</code> 를 호출한다.
<ul><li><code>Symbol.iterator</code> 가 없으면 에러 발생</li> <li>iterator (메서드 <code>next</code> 가 있는 객체) 를 반환해야 한다.</li></ul></li> <li><code>for..of</code> 는 <code>next()</code> 이터레이터 메서드를 호출하여 다음값을 사용합니다.
<ul><li><code>next()</code> 의 반환값 의 형태 <code>{ done: Boolean, value: any }</code></li> <li><code>done = true</code> 반복 종료</li> <li><code>done = false</code>, value 에 다음 값 저장</li></ul></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>range<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        current<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>from<span class="token punctuation">,</span>
        last<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>to<span class="token punctuation">,</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>current <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>last<span class="token punctuation">)</span> 
                <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>current<span class="token operator">++</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span> 
                <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="관심사의-분리-soc-separation-of-concern"><a href="#관심사의-분리-soc-separation-of-concern" class="header-anchor">#</a> 관심사의 분리 SoC, Separation of concern</h3> <ul><li><code>range[Symbol.iterator]()</code> 를 호출해서 만든 이터레이터 객체와,
이 객체의 메서드 <code>next()</code> 에서 반복에 사용될 값을 만들어 낸다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">from</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    to<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>from<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>current <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>to<span class="token punctuation">)</span> 
            <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>current<span class="token operator">++</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>range[Symbol.iterator]()</code> 가 객체 <code>range</code> 자체를 반환한다.</li></ul> <h3 id="iterable-의-필요성"><a href="#iterable-의-필요성" class="header-anchor">#</a> Iterable 의 필요성</h3> <p>iterator 만 있으면 되지 않을까 왜 iterable 이 필요하지?</p> <h4 id="_1-reset-타이밍"><a href="#_1-reset-타이밍" class="header-anchor">#</a> 1. reset 타이밍</h4> <p>iterator 만 있는 경우,</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
   data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token punctuation">{</span>
           done<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span>
           value<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>한번 loop 를 돌고나면 done: true 일때, 다시는 못쓰는 객체가 된다.<br>
만약, 여기서 데이터의 사본을 만든 후, 사본에게 loop 를 돈다고 가정하면.<br>
reset 만 하면 여러번 돌 수 있게 된다.</p> <p>loop 를 돌 수 있는 reset 타이밍을 iterable 이 기능해 줄 수 있다.</p> <ul><li><a href="/Doc/dev/design-pattern/iterator pattern.html">iterator pattern</a></li></ul> <h4 id="_2-안정적인-코딩"><a href="#_2-안정적인-코딩" class="header-anchor">#</a> 2. 안정적인 코딩</h4> <p>while, for, do..while 을 쓰지 않고 iterable 을 쓰는 이유</p> <ul><li>statement : 문
<ul><li>엔진한테 주는 힌트</li> <li>실행을 하고나면 흔적도 없이 사라진다.</li></ul></li> <li>expression : 값, 식
<ul><li>메모리에 남는다.</li> <li>계속 참조가능하다.</li></ul></li></ul> <p>while, for, do..while 은 statement 이기 때문에 사용 후 사라진다. 두번다시 반복시킬 수 없기 때문에
for 문을 여러번 써야 한다.</p> <p>현대 언어의 패러다임은 statement 를 제거하고 expression 으로 바꿔버리는 것이다.
그 방법으로는 모든 statement 를 함수 안에 집어넣는 방법이 있다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">계속 반복할지 판단</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">반복시마다 처리할 것</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
</code></pre></div><p>iterator interface</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            done<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 계속 반복할 지 판단</span>
            value<span class="token operator">:</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 반복시마다 처리할 것</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="self-description"><a href="#self-description" class="header-anchor">#</a> self description</h5> <ul><li><p>객체 메서드가 조건과 실행을 담당한다.</p> <ol><li>반복자체를 하지는 않지만</li> <li>외부에서 반복을 하려고 할 때</li> <li>반복에 필요한 조건과 실행을</li> <li>미리 준비해 둔 객체</li></ol></li> <li><p>반복행위(next())와 반복을 위한 준비(self description)를 분리</p></li></ul> <p>객체가 안정적인 이상은 똑같은 loop 가 일어나게 될 것이다.</p> <blockquote><p>알고리즘 문제 풀때 느끼는 거지만 문제가 복잡해 질 수록 for while 문을 짜는것과 디버깅을 해도 해석하는것이 어려워 진다..</p></blockquote> <p>만약 3차원 방정식, 피봇테이블을 만들 때 for 문으로 여러번 계속 만들때 얼마나 정확하게 짤 수 있나?
하지만 Iterator 라면 몇번이라도 반복해도 안정적으로 될 것이다.</p> <h3 id="iterable-과-유사배열"><a href="#iterable-과-유사배열" class="header-anchor">#</a> Iterable 과 유사배열</h3> <ul><li>iterable 객체</li> <li>array-like</li> <li>iterable &amp;&amp; array-like
<ul><li>문자열</li></ul></li></ul> <p>둘다 배열이 아니라는 공통점이 있으므로 pop, push 메서드를 쓸 수 없다.</p> <h4 id="iterable"><a href="#iterable" class="header-anchor">#</a> Iterable</h4> <p>Symbol.iterator 가 구현된 객체.</p> <h4 id="유사-배열-array-like"><a href="#유사-배열-array-like" class="header-anchor">#</a> 유사 배열 array-like</h4> <p><code>index</code> 와 <code>length</code> 프로퍼티가 있어서 배열처럼 보이는 객체</p> <h4 id="array-from"><a href="#array-from" class="header-anchor">#</a> Array.from</h4> <p>Iterable 이나 array-like 를 진짜 <code>Array</code> 로 만들어 준다.</p> <p>Syntax <code>Array.from(obj[, mapFn, thisArg])</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arrayLike <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;World&quot;</span><span class="token punctuation">,</span>
  length<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (*)</span>
</code></pre></div><p><img src="https://user-images.githubusercontent.com/31977543/89784482-b72a6980-db53-11ea-9dcf-946dad434cb8.png" alt="image"></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>range<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1,2,3,4,5 (배열-문자열 형 변환이 제대로 동작합니다.)</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>range<span class="token punctuation">,</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> num <span class="token operator">*</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1,4,9,16,25</span>
</code></pre></div><p>str 를 분해해 글자가 담긴 배열로 만듦</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'𝒳😂'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> chars <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>와 동일하다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> chars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Array.from 내부에선 아래와 동일한 반복문이 돌아갑니다.</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> char <span class="token keyword">of</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  chars<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">alert</span><span class="token punctuation">(</span>chars<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 𝒳</span>
<span class="token function">alert</span><span class="token punctuation">(</span>chars<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 😂</span>
<span class="token function">alert</span><span class="token punctuation">(</span>chars<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><h3 id="iterable-객체를-만들어-내는-내장-생성자"><a href="#iterable-객체를-만들어-내는-내장-생성자" class="header-anchor">#</a> Iterable 객체를 만들어 내는 내장 생성자</h3> <ul><li>String</li> <li>Array</li> <li>TypedArray</li> <li>Map</li> <li>Set</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// `for...of`</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> c <span class="token keyword">of</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// spread 연산자</span>
<span class="token keyword">const</span> characters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//[ 'h', 'e', 'l', 'l', 'o' ]</span>

<span class="token comment">// 분해대입</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>c1<span class="token punctuation">,</span> c2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// h</span>

<span class="token comment">// `Array.from`은 iterable 혹은 array-like 객체를 인수로 받습니다.</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// split 방법</span>
<span class="token keyword">const</span> characters1 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="명시적으로-iterator-호출하기"><a href="#명시적으로-iterator-호출하기" class="header-anchor">#</a> 명시적으로 Iterator 호출하기</h3> <p>이 경우는 거의 없지만. 반복을 시작했다가 작업을 잠시 멈추고 다른 작업을 했다가 복귀할 수 있다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> iterator <span class="token operator">=</span> str<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 글자가 하나씩 출력됩니다.</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="사용자-반복-처리기"><a href="#사용자-반복-처리기" class="header-anchor">#</a> 사용자 반복 처리기</h2> <p>직접 Iterator 반복 처리기를 구현</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">loop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">iter<span class="token punctuation">,</span> f</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// iterable 검증 + iterator Result Object 도 검증해야 한다. in 으로 value 와 done 이 있는지 검증 </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> iter<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        iter <span class="token operator">=</span> iter<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token comment">// IteratorObject 가 아니라면 건너뜀</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> iter<span class="token punctuation">.</span>next <span class="token operator">!=</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span> 

    <span class="token comment">// 루프 처리기 : 돌리는 행위만 할 수 있다.</span>
    <span class="token keyword">do</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> v <span class="token operator">=</span> iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// 종료처리</span>
        <span class="token function">f</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 현재 값을 전달함</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> iter <span class="token operator">=</span> <span class="token punctuation">{</span>
    arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            done<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span>
            value<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">loop</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="내장-반복-처리기"><a href="#내장-반복-처리기" class="header-anchor">#</a> 내장 반복 처리기</h2> <p>iterable 객체를 사용하면 이런 문법적인 혜택을 누릴 수 있다.</p> <ul><li>for ... of 루프</li> <li>spread 연산자</li> <li>분해 대입</li> <li>기타 iterable 을 인수로 받는 함수</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> iter <span class="token operator">=</span> <span class="token punctuation">{</span>
    arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            done<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span>
            value<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="배열-해체-array-destructuring-변수"><a href="#배열-해체-array-destructuring-변수" class="header-anchor">#</a> 배열 해체 Array destructuring -&gt; 변수</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> iter<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 4, [3, 2, 1]</span>
</code></pre></div><h3 id="펼치기-spread-배열"><a href="#펼치기-spread-배열" class="header-anchor">#</a> 펼치기 Spread -&gt; 배열</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>iter<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// [ 4, 3, 2, 1]</span>
</code></pre></div><h3 id="나머지-인자-rest-parameter"><a href="#나머지-인자-rest-parameter" class="header-anchor">#</a> 나머지 인자 Rest Parameter</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token operator">...</span>iter<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [4, 3, 2, 1]</span>
</code></pre></div><h3 id="for-of"><a href="#for-of" class="header-anchor">#</a> For of</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> iter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="예제"><a href="#예제" class="header-anchor">#</a> 예제</h2> <p>브라우저에서는 frame 단위로 시간 제약(유효 blocking time)을 갖는다.
긴 루프들은 시간제약이 발생하기 때문에 loop 를 상세하게 나누어서 돌린다.
그리고 무한 루프를 돌면 브라우저가 죽을 수 있으니, max 값을 항상 설정해 주어야 한다.
(보통, OS 가 브라우저가 무한정적으로 blocking 하지 않도록 시간을 제한하기 때문에, 브라우저가 죽게 된다.)</p> <blockquote><p>참조되는 외부 함수의 지역변수를 (함수입장에서는) 자유변수 free variable 라고 한다.<br>
함수가 자유변수에 갖히면 다 클로저가 된다. ( ???)<br>
스코프 개념이나 이런것들은 js 엔진 3.1 버전 (?) 다 옛날거다. js 엔진은 항상 바뀐다. 그래서 cs 적인것을 아는것이 더 좋다.</p></blockquote> <blockquote><p>&lt;자바와 자바스크립트의 자유변수 차이점&gt;<br>
자유변수의 개념은 어떤 언어든 많이 가지고 있지만, 작동방법이 다 다르다. 심지어 자바스크립트 엔진의 버전별로도 작동방법이 다르다.</p> <ul><li>자바: readonly</li> <li>자바스크립트 : writable
<ul><li>그래서 자바보다는 자바스크립트에서 iterator 개념이 더 쓰일 수 있는것</li> <li>자바스크립트는 함수가 태어나는 순간 자유변수를 캡쳐한다.</li> <li>자유 변수의 레벨을 함수의 다단계 껍데기 에서도 인식할 수 있다.<br>
스코프 체인은 알필요 없고, 이런 내용만 알면 된다.</li></ul></li></ul></blockquote> <ol><li>제곱을 요소로 갖는 가상 컬렉션</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">N2</span> <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>max <span class="token operator">=</span> max<span class="token punctuation">;</span>     
    <span class="token punctuation">}</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> cursor <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>max<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            done<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>cursor <span class="token operator">&gt;</span> max<span class="token punctuation">)</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> cursor <span class="token operator">*</span> cursor<span class="token punctuation">;</span>
                    cursor<span class="token operator">++</span><span class="token punctuation">;</span> 
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>       
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">N2</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 1, 4, 9 ,16]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> <span class="token keyword">new</span> <span class="token class-name">N2</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>   <span class="token comment">// 0 // 1 // 4 // 9 // 16</span>
</code></pre></div><p>사용하는 쪽은 단순하게 사용할 수 있지만, 공급하는 쪽이 너무 그지같이 인터페이스를 지켜야 할 것이 많아 코드량이 많다.</p> <p>그것이 Generator 의 첫번째 임무!</p> <h2 id="generator-함수"><a href="#generator-함수" class="header-anchor">#</a> Generator 함수</h2> <ul><li>ES6</li> <li>비동기 함수의 호출 차단 등에 유용하다. (TODO REDUX SAGA)</li></ul> <p>위의 코드를 generator 로 만들어 보자.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">generator</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token punctuation">(</span>max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> cursor <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>cursor <span class="token operator">&lt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">yield</span> cursor <span class="token operator">*</span> cursor<span class="token punctuation">;</span>
        cursor<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="generator-함수의-정의"><a href="#generator-함수의-정의" class="header-anchor">#</a> generator 함수의 정의</h3> <p><code>*</code> generator 함수를 만들어 내는 literal</p> <blockquote><p>literal : {함수, 숫자, 문자열...} 를 만들어 내는 최소한의 표현. 더이상 분해되지 않는다</p></blockquote> <p>generator 함수 선언하기</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>표현식으로 사용하기</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">gen2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>메소드 문법으로 사용하기</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">*</span><span class="token function">gen3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="generator-와-iterator-iterable"><a href="#generator-와-iterator-iterable" class="header-anchor">#</a> generator 와 iterator, iterable</h3> <h4 id="배열"><a href="#배열" class="header-anchor">#</a> 배열</h4> <p><code>iterable</code> 이자 <code>iterator</code> 객체</p> <ul><li>Symbol.iterator 를 호출해 보면 Array 가 나온다.</li> <li>배열이 next() 라는 메서드를 갖고 있다.<br>
(배열도 object 이기 때문에 메서드를 가질 수 있다)</li> <li>배열 자체가 iterator 이기도 한 것이다.</li></ul> <h4 id="n2-클래스"><a href="#n2-클래스" class="header-anchor">#</a> N2 클래스</h4> <p>next 의 값은 <code>iterator</code> 이자 <code>iteratorResultObject</code> 이다.</p> <h4 id="generator-함수를-호출할-때마다-iterator-가-만들어-진다"><a href="#generator-함수를-호출할-때마다-iterator-가-만들어-진다" class="header-anchor">#</a> generator <code>함수를 호출</code>할 때마다 <code>iterator</code> 가 만들어 진다.</h4> <ul><li>하지만 <code>generator</code> 는 iterable 이 아닌데 <code>iterator 객체를 반환</code> 할 줄 안다.
<ul><li>for..of 를 쓸 수 없다.</li></ul></li> <li>하지만 generator 가 반환한 <code>iterator 객체</code>는 <code>iterable</code> 이기도 하다.
<ul><li>for..of 을 쓸 수 있다.</li></ul></li></ul> <hr> <h3 id="yield-키워드"><a href="#yield-키워드" class="header-anchor">#</a> yield 키워드</h3> <p>yield 를 호출할 때마다 마치 next() 가 반환 되는 것과 똑같은 효과를 기대할 수 있다.<br>
위의 예제에서 <code>{ done: false, value: 1 }</code> 를 만들어서 바깥쪽에 보내주고 <code>정지(Suspension)</code>한다.
while 문이 멈추는 대단한 일이 일어난 것이다.
다시 돌아오면 <code>cursor++</code> 에서 실행된다.</p> <h4 id="suspension"><a href="#suspension" class="header-anchor">#</a> Suspension</h4> <p>javascript 는 <code>statement</code> 를 하나를 <code>record</code> 로 만들고,<br>
special record 를 이용해서 제어문을 반환한다.<br>
그리고 <code>record 를 가상머신을 이용해 돌리고 있는 상태</code>이다.<br>
만약 <code>yield</code> 키워드를 만나면 <code>가상머신을 멈추는 Suspension</code> 이 일어난다.<br>
Suspension 이 발생할 때마다 <code>IteratorResultObject 를 리턴</code>해 준다.</p> <ul><li><code>루틴</code> 똑같은 문장을 여러번 시킬 수 있는 함수 블럭</li> <li><code>코루틴</code> generator, 여러번 한 루틴을 반복해서 사용할 수 있다.</li></ul> <hr> <h3 id="iterator-와-generator-문법적-차이"><a href="#iterator-와-generator-문법적-차이" class="header-anchor">#</a> Iterator 와 Generator 문법적 차이</h3> <h4 id="_1-go-stop-제어권"><a href="#_1-go-stop-제어권" class="header-anchor">#</a> 1. go &amp; stop 제어권</h4> <ul><li>iterator : 외부에서 결정</li> <li>generator : 내부에서 결정, 외부에서는 <code>요청</code> 만 한다.</li></ul> <h4 id="_2-iteratorresultobject-done-value"><a href="#_2-iteratorresultobject-done-value" class="header-anchor">#</a> 2. IteratorResultObject done &amp; value</h4> <ul><li>generator 는 generator 루틴을 빠져나올 때 <code>done: true</code>. 이외에는 모두 false</li></ul> <h4 id="_3-generator-의-반환값은-iterator-이자-iterable"><a href="#_3-generator-의-반환값은-iterator-이자-iterable" class="header-anchor">#</a> 3. Generator 의 반환값은 iterator 이자 iterable</h4> <p>reset 가능. 내장 문법 사용가능</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">generator</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// reset 되어 v 의 값이 출력된다.</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>cf. 변수에 할당된 generator 는 reset 기능을 가질 수 없는가?</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> iter <span class="token operator">=</span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> n <span class="token keyword">of</span> iter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 잘 출력됩니다.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> n <span class="token keyword">of</span> iter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// `iter`는 한 번 사용되었으므로, 이 코드는 실행되지 않습니다.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_4-상태-관리요소"><a href="#_4-상태-관리요소" class="header-anchor">#</a> 4. 상태 관리요소</h4> <ul><li>Iterator : 자유변수 혹은 프로퍼티</li> <li>Generator : 지역변수</li></ul> <hr> <h3 id="형태"><a href="#형태" class="header-anchor">#</a> 형태</h3> <p>iterable 의 기능을 사용할 때 yield 키워드 뒤에 있는 값들을 순서대로 넘겨준다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">numberGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 1, 2, 3이 순서대로 출력됩니다.</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> n <span class="token keyword">of</span> <span class="token function">numberGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>yield</code> 다른 generator 함수에서 넘겨준 값을 대신 넘길 수 있다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">numberGen2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">numberGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">numberGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 1, 2, 3, 1, 2, 3이 순서대로 출력됩니다.</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> n <span class="token keyword">of</span> <span class="token function">numberGen2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="사용"><a href="#사용" class="header-anchor">#</a> 사용</h3> <p>함수에서 할 수 있는 일이라면 generator 함수 안에서도 모두 할 수있다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 등차수열 생성하기</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token parameter">start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">=</span> <span class="token number">Infinity</span><span class="token punctuation">,</span> step <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> i <span class="token operator">+=</span> step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 피보나치 수열 생성하기</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token parameter">count <span class="token operator">=</span> <span class="token number">Infinity</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span> x <span class="token operator">+</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 하나의 항목을 계속 넘겨주기</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">Infinity</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> item<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 여러 요소를 반복해서 넘겨주기</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">repeatMany</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">yield</span> item<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="generator-함수-내부에서-정의된-일반-함수"><a href="#generator-함수-내부에서-정의된-일반-함수" class="header-anchor">#</a> Generator 함수 내부에서 정의된 일반 함수</h3> <p>yield 키워드를 사용할 수 없다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 아예 문법 오류가 납니다. (Unexpected token)</span>
  <span class="token keyword">function</span> <span class="token function">fakeGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">fakeGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Generator 는 끊임 없는 놈이다.
이번 시간에는 generator 의 iteration 를 배운것이다.</p> <h2 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h2> <ul><li>https://feel5ny.github.io/2019/02/03/JS_19/</li> <li>https://ko.javascript.info/iterable</li> <li>https://gitlab.com/siots-study/topics/-/wikis/Iterable</li> <li>https://www.youtube.com/watch?v=xTaCosid1-k</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Doc/dev/core-javascript/Symbol.html" class="prev">
        23. Symbol
      </a></span> <span class="next"><a href="/Doc/dev/core-javascript/클래스.html">
        25. 클래스
      </a>
      →
    </span></p></div> <div><div id="comment"></div></div> </main></div></div><div class="global-ui"></div></div>
    <script src="/Doc/assets/js/app.c3926cbf.js" defer></script><script src="/Doc/assets/js/2.6b1c0d26.js" defer></script><script src="/Doc/assets/js/32.61f8aa1b.js" defer></script>
  </body>
</html>
